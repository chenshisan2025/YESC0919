# YesCoin é¡¹ç›®å®Œæ•´éƒ¨ç½²æŒ‡å—

æœ¬æ–‡æ¡£æä¾›YesCoiné¡¹ç›®çš„å®Œæ•´éƒ¨ç½²æŒ‡å—ï¼ŒåŒ…æ‹¬æ™ºèƒ½åˆçº¦ã€åç«¯æœåŠ¡å’Œå‰ç«¯åº”ç”¨çš„éƒ¨ç½²æµç¨‹ã€‚

## ğŸ“‹ ç›®å½•

- [é¡¹ç›®æ¦‚è¿°](#é¡¹ç›®æ¦‚è¿°)
- [éƒ¨ç½²æ¶æ„](#éƒ¨ç½²æ¶æ„)
- [ç¯å¢ƒè¦æ±‚](#ç¯å¢ƒè¦æ±‚)
- [å¿«é€Ÿå¼€å§‹](#å¿«é€Ÿå¼€å§‹)
- [æ™ºèƒ½åˆçº¦éƒ¨ç½²](#æ™ºèƒ½åˆçº¦éƒ¨ç½²)
- [åç«¯æœåŠ¡éƒ¨ç½²](#åç«¯æœåŠ¡éƒ¨ç½²)
- [å‰ç«¯åº”ç”¨éƒ¨ç½²](#å‰ç«¯åº”ç”¨éƒ¨ç½²)
- [ç¯å¢ƒé…ç½®](#ç¯å¢ƒé…ç½®)
- [æµ‹è¯•éªŒè¯](#æµ‹è¯•éªŒè¯)
- [ç”Ÿäº§ç¯å¢ƒéƒ¨ç½²](#ç”Ÿäº§ç¯å¢ƒéƒ¨ç½²)
- [ç›‘æ§å’Œç»´æŠ¤](#ç›‘æ§å’Œç»´æŠ¤)
- [æ•…éšœæ’é™¤](#æ•…éšœæ’é™¤)

## ğŸ¯ é¡¹ç›®æ¦‚è¿°

YesCoinæ˜¯ä¸€ä¸ªåŸºäºBSCï¼ˆBinance Smart Chainï¼‰çš„Web3é¡¹ç›®ï¼ŒåŒ…å«ä»¥ä¸‹æ ¸å¿ƒåŠŸèƒ½ï¼š

- **YesCoinä»£å¸ (YES)**: ERC-20æ ‡å‡†ä»£å¸
- **Guardian NFT**: å®ˆæŠ¤è€…NFTæ”¶è—å“
- **ç©ºæŠ•ç³»ç»Ÿ**: åŸºäºä»»åŠ¡çš„ä»£å¸ç©ºæŠ•
- **æ¨èç³»ç»Ÿ**: NFTé“¸é€ æ¨èå¥–åŠ±
- **é’±åŒ…è¿æ¥**: MetaMaskå’ŒWalletConnectæ”¯æŒ

### æŠ€æœ¯æ ˆ

- **å‰ç«¯**: React + Vite + Tailwind CSS
- **åç«¯**: Node.js + Express + Prisma
- **æ•°æ®åº“**: PostgreSQL
- **åŒºå—é“¾**: BSC (Binance Smart Chain)
- **æ™ºèƒ½åˆçº¦**: Solidity + Hardhat

## ğŸ—ï¸ éƒ¨ç½²æ¶æ„

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   å‰ç«¯åº”ç”¨      â”‚    â”‚   åç«¯API       â”‚    â”‚   æ™ºèƒ½åˆçº¦      â”‚
â”‚   (React)       â”‚â—„â”€â”€â–ºâ”‚   (Node.js)     â”‚â—„â”€â”€â–ºâ”‚   (Solidity)    â”‚
â”‚   Port: 5173    â”‚    â”‚   Port: 3001    â”‚    â”‚   BSC Network   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚                       â”‚                       â”‚
         â”‚                       â”‚                       â”‚
         â–¼                       â–¼                       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   WebæœåŠ¡å™¨     â”‚    â”‚   æ•°æ®åº“        â”‚    â”‚   åŒºå—é“¾æµè§ˆå™¨  â”‚
â”‚   (Nginx)       â”‚    â”‚   (PostgreSQL)  â”‚    â”‚   (BSCScan)     â”‚
â”‚   Port: 80/443  â”‚    â”‚   Port: 5432    â”‚    â”‚                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ğŸ’» ç¯å¢ƒè¦æ±‚

### å¼€å‘ç¯å¢ƒ
- **Node.js**: 18.x æˆ–æ›´é«˜ç‰ˆæœ¬
- **npm**: 9.x æˆ–æ›´é«˜ç‰ˆæœ¬
- **Git**: æœ€æ–°ç‰ˆæœ¬
- **MetaMask**: æµè§ˆå™¨æ‰©å±•

### ç”Ÿäº§ç¯å¢ƒ
- **æœåŠ¡å™¨**: Ubuntu 20.04+ / CentOS 8+
- **CPU**: 4æ ¸å¿ƒï¼ˆæ¨èï¼‰
- **å†…å­˜**: 8GB RAMï¼ˆæ¨èï¼‰
- **å­˜å‚¨**: 50GB SSD
- **PostgreSQL**: 14.x+
- **Nginx**: 1.18+

### åŒºå—é“¾ç¯å¢ƒ
- **BSCæµ‹è¯•ç½‘**: Chain ID 97
- **BSCä¸»ç½‘**: Chain ID 56
- **BNBä½™é¢**: è‡³å°‘0.1 BNBç”¨äºéƒ¨ç½²

## ğŸš€ å¿«é€Ÿå¼€å§‹

### 1. å…‹éš†é¡¹ç›®

```bash
git clone https://github.com/your-org/yescoin.git
cd yescoin
```

### 2. å®‰è£…ä¾èµ–

```bash
# å®‰è£…å‰ç«¯ä¾èµ–
npm install

# å®‰è£…åç«¯ä¾èµ–
cd backend
npm install
cd ..
```

### 3. ç¯å¢ƒé…ç½®

```bash
# å¤åˆ¶ç¯å¢ƒå˜é‡æ¨¡æ¿
cp .env.example .env
cp backend/.env.example backend/.env

# ç¼–è¾‘ç¯å¢ƒå˜é‡
nano .env
nano backend/.env
```

### 4. å¯åŠ¨å¼€å‘ç¯å¢ƒ

```bash
# å¯åŠ¨åç«¯æœåŠ¡
cd backend
npm run dev &
cd ..

# å¯åŠ¨å‰ç«¯åº”ç”¨
npm run dev
```

## ğŸ”— æ™ºèƒ½åˆçº¦éƒ¨ç½²

### 1. ç¯å¢ƒå‡†å¤‡

```bash
# å®‰è£…Hardhatä¾èµ–
npm install --save-dev hardhat @nomicfoundation/hardhat-ethers ethers

# é…ç½®ç§é’¥ï¼ˆ.envæ–‡ä»¶ï¼‰
PRIVATE_KEY=your_private_key_here
```

### 2. ç¼–è¯‘åˆçº¦

```bash
# ç¼–è¯‘æ™ºèƒ½åˆçº¦
npx hardhat compile

# æ£€æŸ¥ç¼–è¯‘ç»“æœ
ls artifacts/contracts/
```

### 3. éƒ¨ç½²åˆ°æµ‹è¯•ç½‘

```bash
# éƒ¨ç½²åˆ°BSCæµ‹è¯•ç½‘
npx hardhat run scripts/deploy-complete.js --network bscTestnet

# æŸ¥çœ‹éƒ¨ç½²ç»“æœ
cat deployments/deployment-bscTestnet-*.json
```

### 4. éƒ¨ç½²åˆ°ä¸»ç½‘

```bash
# éƒ¨ç½²åˆ°BSCä¸»ç½‘ï¼ˆè°¨æ…æ“ä½œï¼‰
npx hardhat run scripts/deploy-complete.js --network bscMainnet

# éªŒè¯åˆçº¦
npx hardhat verify --network bscMainnet <CONTRACT_ADDRESS> <CONSTRUCTOR_ARGS>
```

### 5. æ›´æ–°ç¯å¢ƒå˜é‡

éƒ¨ç½²å®Œæˆåï¼Œæ›´æ–°ç¯å¢ƒå˜é‡æ–‡ä»¶ï¼š

```env
# å‰ç«¯ç¯å¢ƒå˜é‡ (.env)
VITE_YES_TOKEN_ADDRESS=0x...
VITE_GUARDIAN_NFT_ADDRESS=0x...
VITE_AIRDROP_CONTRACT_ADDRESS=0x...
VITE_CHAIN_ID=97
VITE_NETWORK_NAME=bscTestnet

# åç«¯ç¯å¢ƒå˜é‡ (backend/.env)
YES_TOKEN_ADDRESS=0x...
GUARDIAN_NFT_ADDRESS=0x...
AIRDROP_CONTRACT_ADDRESS=0x...
```

## ğŸ–¥ï¸ åç«¯æœåŠ¡éƒ¨ç½²

### 1. æ•°æ®åº“è®¾ç½®

```bash
# å®‰è£…PostgreSQL
sudo apt update
sudo apt install postgresql postgresql-contrib

# åˆ›å»ºæ•°æ®åº“
sudo -u postgres psql
CREATE USER yescoin_user WITH PASSWORD 'secure_password';
CREATE DATABASE yescoin_db OWNER yescoin_user;
GRANT ALL PRIVILEGES ON DATABASE yescoin_db TO yescoin_user;
\q
```

### 2. é…ç½®ç¯å¢ƒå˜é‡

```bash
cd backend
cp .env.example .env
nano .env
```

```env
# æ•°æ®åº“é…ç½®
DATABASE_URL="postgresql://yescoin_user:secure_password@localhost:5432/yescoin_db"

# æœåŠ¡å™¨é…ç½®
PORT=3001
NODE_ENV=production
CORS_ORIGIN=https://your-domain.com

# JWTé…ç½®
JWT_SECRET=your_jwt_secret_here
JWT_EXPIRES_IN=7d

# åŒºå—é“¾é…ç½®
BSC_RPC_URL=https://bsc-dataseed1.binance.org/
PRIVATE_KEY=your_private_key_here

# åˆçº¦åœ°å€
YES_TOKEN_ADDRESS=0x...
GUARDIAN_NFT_ADDRESS=0x...
AIRDROP_CONTRACT_ADDRESS=0x...
```

### 3. æ•°æ®åº“è¿ç§»

```bash
# ç”ŸæˆPrismaå®¢æˆ·ç«¯
npx prisma generate

# è¿è¡Œæ•°æ®åº“è¿ç§»
npx prisma migrate deploy

# å¡«å……åˆå§‹æ•°æ®
npm run seed
```

### 4. å¯åŠ¨æœåŠ¡

```bash
# å¼€å‘ç¯å¢ƒ
npm run dev

# ç”Ÿäº§ç¯å¢ƒ
npm run build
npm start

# ä½¿ç”¨PM2ï¼ˆæ¨èï¼‰
npm install -g pm2
pm2 start ecosystem.config.js
```

### 5. å¥åº·æ£€æŸ¥

```bash
# æµ‹è¯•API
curl http://localhost:3001/health

# é¢„æœŸå“åº”
{
  "status": "ok",
  "timestamp": "2024-01-01T00:00:00.000Z",
  "database": "connected"
}
```

## ğŸŒ å‰ç«¯åº”ç”¨éƒ¨ç½²

### 1. ç¯å¢ƒé…ç½®

```bash
# é…ç½®ç¯å¢ƒå˜é‡
cp .env.example .env
nano .env
```

```env
# APIé…ç½®
VITE_API_BASE_URL=https://api.your-domain.com

# åŒºå—é“¾é…ç½®
VITE_CHAIN_ID=56
VITE_NETWORK_NAME=bscMainnet
VITE_RPC_URL=https://bsc-dataseed1.binance.org/

# åˆçº¦åœ°å€
VITE_YES_TOKEN_ADDRESS=0x...
VITE_GUARDIAN_NFT_ADDRESS=0x...
VITE_AIRDROP_CONTRACT_ADDRESS=0x...

# WalletConnecté…ç½®
VITE_WALLETCONNECT_PROJECT_ID=your_project_id

# åº”ç”¨é…ç½®
VITE_APP_NAME=YesCoin
VITE_APP_DESCRIPTION=YesCoin Web3 Platform
```

### 2. æ„å»ºåº”ç”¨

```bash
# å®‰è£…ä¾èµ–
npm install

# æ„å»ºç”Ÿäº§ç‰ˆæœ¬
npm run build

# é¢„è§ˆæ„å»ºç»“æœ
npm run preview
```

### 3. éƒ¨ç½²åˆ°Vercel

```bash
# å®‰è£…Vercel CLI
npm install -g vercel

# ç™»å½•Vercel
vercel login

# éƒ¨ç½²é¡¹ç›®
vercel --prod

# é…ç½®ç¯å¢ƒå˜é‡
vercel env add VITE_API_BASE_URL
vercel env add VITE_YES_TOKEN_ADDRESS
# ... æ·»åŠ å…¶ä»–ç¯å¢ƒå˜é‡
```

### 4. éƒ¨ç½²åˆ°Nginx

```bash
# å¤åˆ¶æ„å»ºæ–‡ä»¶
sudo cp -r dist/* /var/www/yescoin/

# é…ç½®Nginx
sudo nano /etc/nginx/sites-available/yescoin
```

```nginx
server {
    listen 80;
    server_name your-domain.com;
    root /var/www/yescoin;
    index index.html;
    
    # SPAè·¯ç”±æ”¯æŒ
    location / {
        try_files $uri $uri/ /index.html;
    }
    
    # é™æ€èµ„æºç¼“å­˜
    location /assets/ {
        expires 1y;
        add_header Cache-Control "public, immutable";
    }
    
    # APIä»£ç†
    location /api/ {
        proxy_pass http://localhost:3001;
        proxy_set_header Host $host;
        proxy_set_header X-Real-IP $remote_addr;
        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
        proxy_set_header X-Forwarded-Proto $scheme;
    }
}
```

```bash
# å¯ç”¨ç«™ç‚¹
sudo ln -s /etc/nginx/sites-available/yescoin /etc/nginx/sites-enabled/
sudo nginx -t
sudo systemctl reload nginx
```

## âš™ï¸ ç¯å¢ƒé…ç½®

### å¼€å‘ç¯å¢ƒé…ç½®

```bash
# .env (å‰ç«¯)
VITE_API_BASE_URL=http://localhost:3001
VITE_CHAIN_ID=97
VITE_NETWORK_NAME=bscTestnet
VITE_RPC_URL=https://data-seed-prebsc-1-s1.binance.org:8545/

# backend/.env (åç«¯)
NODE_ENV=development
PORT=3001
CORS_ORIGIN=http://localhost:5173
DATABASE_URL="postgresql://user:pass@localhost:5432/yescoin_dev"
```

### æµ‹è¯•ç¯å¢ƒé…ç½®

```bash
# .env.staging (å‰ç«¯)
VITE_API_BASE_URL=https://api-staging.your-domain.com
VITE_CHAIN_ID=97
VITE_NETWORK_NAME=bscTestnet

# backend/.env.staging (åç«¯)
NODE_ENV=staging
PORT=3001
CORS_ORIGIN=https://staging.your-domain.com
DATABASE_URL="postgresql://user:pass@staging-db:5432/yescoin_staging"
```

### ç”Ÿäº§ç¯å¢ƒé…ç½®

```bash
# .env.production (å‰ç«¯)
VITE_API_BASE_URL=https://api.your-domain.com
VITE_CHAIN_ID=56
VITE_NETWORK_NAME=bscMainnet

# backend/.env.production (åç«¯)
NODE_ENV=production
PORT=3001
CORS_ORIGIN=https://your-domain.com
DATABASE_URL="postgresql://user:pass@prod-db:5432/yescoin_prod"
```

## âœ… æµ‹è¯•éªŒè¯

### 1. æ™ºèƒ½åˆçº¦æµ‹è¯•

```bash
# è¿è¡Œåˆçº¦æµ‹è¯•
npx hardhat test

# æµ‹è¯•è¦†ç›–ç‡
npx hardhat coverage

# éƒ¨ç½²åéªŒè¯
npx hardhat run scripts/verify-deployment.js --network bscTestnet
```

### 2. åç«¯APIæµ‹è¯•

```bash
# è¿è¡Œå•å…ƒæµ‹è¯•
cd backend
npm test

# è¿è¡Œé›†æˆæµ‹è¯•
npm run test:integration

# APIå¥åº·æ£€æŸ¥
curl http://localhost:3001/health
```

### 3. å‰ç«¯åŠŸèƒ½æµ‹è¯•

```bash
# è¿è¡Œå‰ç«¯æµ‹è¯•
npm test

# E2Eæµ‹è¯•
npm run test:e2e

# æ„å»ºæµ‹è¯•
npm run build
```

### 4. ç«¯åˆ°ç«¯æµ‹è¯•æµç¨‹

1. **é’±åŒ…è¿æ¥æµ‹è¯•**
   - è¿æ¥MetaMaské’±åŒ…
   - åˆ‡æ¢åˆ°BSCç½‘ç»œ
   - éªŒè¯é’±åŒ…åœ°å€æ˜¾ç¤º

2. **NFTé“¸é€ æµ‹è¯•**
   - è®¿é—®NFTé¡µé¢
   - è¿æ¥é’±åŒ…å¹¶é“¸é€ NFT
   - éªŒè¯äº¤æ˜“æˆåŠŸ
   - æ£€æŸ¥NFTä½™é¢æ›´æ–°

3. **ç©ºæŠ•ä»»åŠ¡æµ‹è¯•**
   - å®Œæˆç¤¾äº¤ä»»åŠ¡
   - éªŒè¯ä»»åŠ¡çŠ¶æ€æ›´æ–°
   - å°è¯•é¢†å–ç©ºæŠ•
   - æ£€æŸ¥ä»£å¸ä½™é¢

4. **æ¨èç³»ç»Ÿæµ‹è¯•**
   - ä½¿ç”¨æ¨èé“¾æ¥é“¸é€ NFT
   - éªŒè¯æ¨èäººå¥–åŠ±
   - æ£€æŸ¥æ•°æ®åº“è®°å½•

## ğŸ­ ç”Ÿäº§ç¯å¢ƒéƒ¨ç½²

### 1. æœåŠ¡å™¨å‡†å¤‡

```bash
# æ›´æ–°ç³»ç»Ÿ
sudo apt update && sudo apt upgrade -y

# å®‰è£…å¿…è¦è½¯ä»¶
sudo apt install -y nginx postgresql redis-server certbot python3-certbot-nginx

# é…ç½®é˜²ç«å¢™
sudo ufw allow 22
sudo ufw allow 80
sudo ufw allow 443
sudo ufw enable
```

### 2. SSLè¯ä¹¦é…ç½®

```bash
# è·å–SSLè¯ä¹¦
sudo certbot --nginx -d your-domain.com -d api.your-domain.com

# è‡ªåŠ¨ç»­æœŸ
sudo crontab -e
# æ·»åŠ : 0 12 * * * /usr/bin/certbot renew --quiet
```

### 3. æ•°æ®åº“å¤‡ä»½

```bash
# åˆ›å»ºå¤‡ä»½è„šæœ¬
sudo nano /usr/local/bin/backup-db.sh
```

```bash
#!/bin/bash
BACKUP_DIR="/var/backups/postgresql"
DATE=$(date +"%Y%m%d_%H%M%S")
DATABASE="yescoin_db"

mkdir -p $BACKUP_DIR
pg_dump -U yescoin_user -h localhost $DATABASE | gzip > $BACKUP_DIR/backup_${DATE}.sql.gz

# ä¿ç•™æœ€è¿‘30å¤©çš„å¤‡ä»½
find $BACKUP_DIR -name "backup_*.sql.gz" -mtime +30 -delete
```

```bash
# è®¾ç½®æƒé™å’Œå®šæ—¶ä»»åŠ¡
sudo chmod +x /usr/local/bin/backup-db.sh
sudo crontab -e
# æ·»åŠ : 0 2 * * * /usr/local/bin/backup-db.sh
```

### 4. ç›‘æ§é…ç½®

```bash
# å®‰è£…ç›‘æ§å·¥å…·
sudo apt install -y htop iotop nethogs

# é…ç½®æ—¥å¿—ç›‘æ§
sudo nano /etc/logrotate.d/yescoin
```

```
/var/log/yescoin/*.log {
    daily
    missingok
    rotate 52
    compress
    delaycompress
    notifempty
    create 644 www-data www-data
    postrotate
        systemctl reload nginx
        pm2 reload all
    endscript
}
```

## ğŸ“Š ç›‘æ§å’Œç»´æŠ¤

### 1. ç³»ç»Ÿç›‘æ§

```bash
# åˆ›å»ºç›‘æ§è„šæœ¬
sudo nano /usr/local/bin/system-monitor.sh
```

```bash
#!/bin/bash

# æ£€æŸ¥æœåŠ¡çŠ¶æ€
services=("nginx" "postgresql" "redis-server")
for service in "${services[@]}"; do
    if ! systemctl is-active --quiet $service; then
        echo "âš ï¸ $service is not running" | logger -t yescoin-monitor
        systemctl restart $service
    fi
done

# æ£€æŸ¥ç£ç›˜ç©ºé—´
disk_usage=$(df / | awk 'NR==2 {print $5}' | sed 's/%//')
if [ $disk_usage -gt 80 ]; then
    echo "âš ï¸ Disk usage is ${disk_usage}%" | logger -t yescoin-monitor
fi

# æ£€æŸ¥å†…å­˜ä½¿ç”¨
mem_usage=$(free | awk 'NR==2{printf "%.0f", $3*100/$2}')
if [ $mem_usage -gt 80 ]; then
    echo "âš ï¸ Memory usage is ${mem_usage}%" | logger -t yescoin-monitor
fi
```

### 2. åº”ç”¨ç›‘æ§

```bash
# PM2ç›‘æ§é…ç½®
pm2 install pm2-logrotate
pm2 set pm2-logrotate:max_size 10M
pm2 set pm2-logrotate:retain 30

# å¯ç”¨PM2ç›‘æ§
pm2 monitor
```

### 3. æ€§èƒ½ä¼˜åŒ–

```bash
# æ•°æ®åº“ä¼˜åŒ–
sudo nano /etc/postgresql/14/main/postgresql.conf
```

```
# å†…å­˜é…ç½®
shared_buffers = 256MB
effective_cache_size = 1GB
work_mem = 4MB
maintenance_work_mem = 64MB

# è¿æ¥é…ç½®
max_connections = 100

# æ—¥å¿—é…ç½®
log_min_duration_statement = 1000
log_checkpoints = on
log_connections = on
log_disconnections = on
```

### 4. å®‰å…¨ç»´æŠ¤

```bash
# å®šæœŸæ›´æ–°
sudo apt update && sudo apt upgrade -y

# æ£€æŸ¥å®‰å…¨æ¼æ´
sudo apt install -y unattended-upgrades
sudo dpkg-reconfigure -plow unattended-upgrades

# é…ç½®fail2ban
sudo apt install -y fail2ban
sudo nano /etc/fail2ban/jail.local
```

```ini
[DEFAULT]
bantime = 3600
findtime = 600
maxretry = 3

[sshd]
enabled = true

[nginx-http-auth]
enabled = true

[nginx-limit-req]
enabled = true
```

## ğŸ”§ æ•…éšœæ’é™¤

### å¸¸è§é—®é¢˜åŠè§£å†³æ–¹æ¡ˆ

#### 1. åˆçº¦éƒ¨ç½²å¤±è´¥

```bash
# æ£€æŸ¥ç½‘ç»œè¿æ¥
curl -X POST -H "Content-Type: application/json" \
  --data '{"jsonrpc":"2.0","method":"eth_blockNumber","params":[],"id":1}' \
  https://bsc-dataseed1.binance.org/

# æ£€æŸ¥è´¦æˆ·ä½™é¢
npx hardhat run scripts/check-balance.js --network bscTestnet

# æ£€æŸ¥Gasä»·æ ¼
npx hardhat run scripts/check-gas.js --network bscTestnet
```

#### 2. æ•°æ®åº“è¿æ¥é—®é¢˜

```bash
# æ£€æŸ¥PostgreSQLçŠ¶æ€
sudo systemctl status postgresql

# æ£€æŸ¥è¿æ¥
psql -h localhost -U yescoin_user -d yescoin_db

# é‡ç½®è¿æ¥
sudo systemctl restart postgresql
```

#### 3. å‰ç«¯æ„å»ºå¤±è´¥

```bash
# æ¸…ç†ç¼“å­˜
npm run clean
rm -rf node_modules package-lock.json
npm install

# æ£€æŸ¥ç¯å¢ƒå˜é‡
echo $VITE_API_BASE_URL

# é‡æ–°æ„å»º
npm run build
```

#### 4. APIå“åº”æ…¢

```bash
# æ£€æŸ¥æ•°æ®åº“æ€§èƒ½
psql -U yescoin_user -d yescoin_db -c "SELECT * FROM pg_stat_activity;"

# æ£€æŸ¥æ…¢æŸ¥è¯¢
psql -U yescoin_user -d yescoin_db -c "SELECT query, mean_time, calls FROM pg_stat_statements ORDER BY mean_time DESC LIMIT 10;"

# é‡å¯æœåŠ¡
pm2 restart yescoin-backend
```

### ç´§æ€¥æ¢å¤æµç¨‹

#### 1. æ•°æ®åº“æ¢å¤

```bash
# åœæ­¢åº”ç”¨
pm2 stop all

# æ¢å¤æ•°æ®åº“
psql -U yescoin_user -d yescoin_db < /var/backups/postgresql/backup_latest.sql

# é‡å¯æœåŠ¡
pm2 start all
```

#### 2. å›æ»šéƒ¨ç½²

```bash
# Gitå›æ»š
git log --oneline -10
git reset --hard <commit_hash>

# é‡æ–°éƒ¨ç½²
npm run build
pm2 restart all
```

#### 3. ç´§æ€¥ç»´æŠ¤æ¨¡å¼

```bash
# å¯ç”¨ç»´æŠ¤é¡µé¢
sudo cp /var/www/maintenance.html /var/www/yescoin/index.html

# ä¿®å¤é—®é¢˜åæ¢å¤
sudo cp /var/www/yescoin-backup/index.html /var/www/yescoin/index.html
```

## ğŸ“ æŠ€æœ¯æ”¯æŒ

### è”ç³»æ–¹å¼
- **GitHub Issues**: https://github.com/your-org/yescoin/issues
- **æŠ€æœ¯æ–‡æ¡£**: https://docs.yescoin.com
- **ç¤¾åŒºè®ºå›**: https://forum.yescoin.com

### æ—¥å¿—æ”¶é›†

åœ¨æŠ¥å‘Šé—®é¢˜æ—¶ï¼Œè¯·æä¾›ä»¥ä¸‹æ—¥å¿—ï¼š

```bash
# åº”ç”¨æ—¥å¿—
pm2 logs yescoin-backend --lines 100

# ç³»ç»Ÿæ—¥å¿—
sudo journalctl -u nginx -n 100
sudo journalctl -u postgresql -n 100

# é”™è¯¯æ—¥å¿—
tail -100 /var/log/yescoin/error.log
```

---

**æ³¨æ„**: è¯·ç¡®ä¿åœ¨ç”Ÿäº§ç¯å¢ƒä¸­éµå¾ªå®‰å…¨æœ€ä½³å®è·µï¼ŒåŒ…æ‹¬ä½¿ç”¨å¼ºå¯†ç ã€å¯ç”¨é˜²ç«å¢™ã€å®šæœŸæ›´æ–°ç³»ç»Ÿå’Œä¾èµ–åŒ…ã€‚